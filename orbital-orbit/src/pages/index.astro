---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import "../styles/global.css";
import { ViewTransitions } from 'astro:transitions';
const query = `
  query pokemon_all($name: String) {
    species: pokemon_v2_pokemon {
      id
      name
    }
  }
`
const response = await fetch(
	"https://beta.pokeapi.co/graphql/v1beta",
	{
		method: "POST",
		body: JSON.stringify({
		query: query,
		variables: {},
		operationName: "pokemon_all"
		})
	}
);
const pokedex = await response.json();
const { species } = pokedex.data;

---

<Layout title="Team 1">
	<ViewTransitions />
	<main>
		<h1>Team 1</h1>
		<p class="instructions">
			To get started, open the directory <code>src/pages</code> in your project.<br
			/>
			<strong>Code Challenge:</strong> Tweak the "Welcome to Astro" message
			above.
		</p>
		<ul role="list" class="link-card-grid">
			{
				species.map((item) => (
					<li>
						<Card name={item.name} />
					</li>
				))
			}
		</ul>
	</main>
</Layout>
